<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LyricEar ‚Äî –ü–ª–µ–µ—Ä</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <div id="toast" class="toast"></div>

  <!-- ‚ïê‚ïê‚ïê Logo (auto-hide on scroll down, show on scroll up) ‚ïê‚ïê‚ïê -->
  <div id="logoBar" class="logo-bar">
    <a href="index.html" class="logo-link">
      <svg class="logo-svg" width="32" height="32" viewBox="0 0 44 44" fill="none">
        <circle cx="22" cy="22" r="21" fill="#111118" stroke="url(#logoRim)" stroke-width="1"/>
        <path d="M8 28 C12 14,20 10,22 10 C24 10,32 14,36 28" stroke="url(#auroraG)" stroke-width="1.2" fill="none" opacity=".9"/>
        <path d="M10 30 C14 18,19 14,22 14 C25 14,30 18,34 30" stroke="url(#auroraG)" stroke-width=".8" fill="none" opacity=".5"/>
        <path d="M10 33 Q14 30,16 33 T22 33 T28 33 T34 33" stroke="#c084fc" stroke-width="1" fill="none" opacity=".7"/>
        <circle cx="22" cy="11" r="1.2" fill="#f0abfc" opacity=".9"/>
        <defs>
          <linearGradient id="logoRim" x1="0" y1="0" x2="44" y2="44">
            <stop offset="0%" stop-color="#7c3aed" stop-opacity=".4"/>
            <stop offset="50%" stop-color="#22d3ee" stop-opacity=".3"/>
            <stop offset="100%" stop-color="#34d399" stop-opacity=".4"/>
          </linearGradient>
          <linearGradient id="auroraG" x1="8" y1="28" x2="36" y2="10">
            <stop offset="0%" stop-color="#7c3aed"/>
            <stop offset="50%" stop-color="#22d3ee"/>
            <stop offset="100%" stop-color="#34d399"/>
          </linearGradient>
        </defs>
      </svg>
      <span class="logo-text">
        <span class="logo-name">LyricEar</span>
        <span class="logo-sub">—É—á–∏–º —è–∑—ã–∫–∏ –Ω–∞ —Å–ª—É—Ö</span>
      </span>
    </a>
  </div>

  <!-- ‚ïê‚ïê‚ïê Header (compact) ‚ïê‚ïê‚ïê -->
  <header class="song-header">
    <h1 id="songTitle"></h1>
    <p><span id="songArtist"></span> ¬∑ <span id="songLang" class="pill"></span></p>
    <p id="songHint" class="hint"></p>
  </header>

  <!-- ‚ïê‚ïê‚ïê Sticky block ‚ïê‚ïê‚ïê -->
  <div id="stickyBlock" class="sticky-block">

    <!-- Player compact -->
    <section class="panel player-panel">
      <!-- Top row: video left + controls right -->
      <div class="player-compact">
        <div id="videoWrap" class="video-wrap is-audio">
          <video id="player" playsinline preload="auto"></video>
          <button id="btnPlayOverlay" class="play-overlay">‚ñ∂</button>
        </div>
        <div class="player-side">
          <div class="media-bar">
            <span class="lamp lamp-off" id="mediaLamp"></span>
            <span class="mini mono" id="tNow">0.00s</span>
          </div>
          <div class="media-btns">
            <button class="ghost compact-btn pulse" id="btnLoadLocal">üìÅ –§–∞–π–ª</button>
            <input type="file" id="mediaPick" accept="audio/*,video/*" hidden>
            <button class="primary compact-btn" id="btnLoadYaDisk">‚òÅ –Ø.–î–∏—Å–∫</button>
            <button class="bad compact-btn" id="btnForgetMedia" style="display:none">üóë</button>
          </div>
          <span class="mini mono" id="mediaName"></span>
        </div>
      </div>

      <!-- Progress bar -->
      <div class="play-row">
        <button id="btnPlay" class="play-btn-mini">‚ñ∂</button>
        <input type="range" id="playProgress" min="0" max="1000" value="0">
        <span id="playTime" class="mini mono">0:00/0:00</span>
      </div>
    </section>

    <!-- Spectrogram -->
    <section class="panel spec-panel">
      <div class="spec-toolbar">
        <button class="ghost compact-btn" id="spectrogramToggle">üìä –°–ø–µ–∫—Ç—Ä ‚ñæ</button>
        <button class="ghost spec-zoom-btn" id="specZoomOut">‚àí</button>
        <span class="mini mono" id="specZoomLabel">√ó1</span>
        <button class="ghost spec-zoom-btn" id="specZoomIn">+</button>
      </div>
      <div id="spectrogramWrap" class="spec-wrap">
        <canvas id="spectrogramCanvas"></canvas>
      </div>
    </section>

  </div>

  <!-- ‚ïê‚ïê‚ïê Segment controls ‚ïê‚ïê‚ïê -->
  <section class="panel seg-panel">
    <div class="seg-row">
      <div id="segStatus" class="seg-status"></div>
      <button class="primary compact-btn" id="btnPlaySeg" disabled>‚ñ∂ –§—Ä–∞–≥–º</button>
      <button class="ghost compact-btn" id="btnStart" disabled>‚è±S</button>
      <button class="ghost compact-btn" id="btnEnd" disabled>‚è±E</button>
      <button class="bad compact-btn" id="btnClear" disabled>‚úï</button>
    </div>
    <div class="toggle-row">
      <label><input type="checkbox" id="loopToggle" /> üîÅ</label>
      <label><input type="checkbox" id="autoNextToggle" /> ‚è≠</label>
      <label><input type="checkbox" id="globalShowOrig" /> üîç</label>
      <label><input type="checkbox" id="globalShowPhon" /> üëÇ</label>
      <label><input type="checkbox" id="globalShowTrans" /> üí¨</label>
      <label><input type="checkbox" id="globalShowWhy" /> üß†</label>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê Lines ‚ïê‚ïê‚ïê -->
  <section id="lines" class="lines"></section>

  <!-- ‚ïê‚ïê‚ïê Footer ‚ïê‚ïê‚ïê -->
  <footer class="page-footer">
    <div class="save-indicator" id="saveIndicator">üíæ</div>
    <button class="bad tiny" id="btnResetProgress">–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
    <p class="mini muted" style="margin-top:12px;">
      <a href="index.html">‚Üê –ö–∞—Ç–∞–ª–æ–≥</a>
    </p>
  </footer>

  <script src="assets/app.js?v=5"></script>
</body>
</html>
